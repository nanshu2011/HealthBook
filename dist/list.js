function lastHabit(a){currentuser.set("lastehabit",a),currentuser.save(null,{success:function(b){currentuser.set("lastehabit",a),window.location.assign("edit.html")},error:function(a,b){}})}function showMsg(a){var b=a.parentNode.parentNode.getElementsByClassName("message")[0];b.style.visibility="visible"}function keepCount(a){query.equalTo("habitName",a),query.first({success:function(a){console.log(a.get("thumbscount")),console.log(a.get("dailyFreq")),a.get("thumbscount")<a.get("dailyFreq")&&(a.increment("thumbscount"),a.save(),console.log(a.get("thumbscount")),window.location.assign("list.html"))},error:function(a){console.log("error")}})}function deleteHabit(a){query.equalTo("habitName",a),query.first({success:function(a){a.destroy({}),console.log("deleted"),window.location.assign("list.html")},error:function(a){console.log("error")}})}Parse.initialize("rriccses0xkmfyCu8JHUbRB3n4mJW1H3okqs1Sjh","z8QtkGlujwURiXFdYzi4SV7L9X6BxWdQG6bVecA2");var currentuser=Parse.User.current(),username=currentuser.get("username"),Habit=Parse.Object.extend("Habit"),query=new Parse.Query(Habit);query.equalTo("username",username),query.find({success:function(a){for(var b=0;b<a.length;b++){var c,d=a[b],e=d.get("habitName"),f=d.get("dailyFreq"),g=d.get("image"),h=d.get("thumbscount"),i=d.get("iconImg");c="icon1"==g?"../img/sleep.jpg":"icon2"==g?"../img/salad.jpg":"icon3"==g?"../img/run.jpg":i.url(),$("#habit-list").append("<li>                      <ul class='habit-info'>                          <li><div class='habit-name'>"+e+"</div></li>                          <li><img class='habit-icon' src='"+c+"' alt='habit icon'></li>                      </ul>                      <div class='message'>                          <span class='message-total'>                              <strong>0</strong> days in a row! Best Record: <strong>0</strong><br>                                  <progress value="+h+" max="+f+"></progress>                          </span><br>                          <span class='message-total'>Completed <strong>"+h+"/"+f+"</strong> for today!</span>                      </div>                      <div class='habit-op'>                          <button type='button' class='op op-done' onclick='showMsg(this);keepCount(/"+e+"/);' title='done'>                              <img src='../img/done.svg' alt='Done'>                          </button>                          <button type='button' class='op op-edit' onclick='lastHabit(/"+e+"/);' title='edit habit'>                              <img src='../img/edit.svg' alt='Edit'>                          </button>                          <button type='button' class='op op-del' onclick='deleteHabit(/"+e+"/);' title='delete habit'>                              <img src='../img/delete.svg' alt='Del'>                          </button>                      </div>                  </li>")}},error:function(a){alert("Error when getting objects!")}});